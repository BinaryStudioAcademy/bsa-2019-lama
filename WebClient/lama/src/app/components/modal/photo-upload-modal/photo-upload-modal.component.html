<div class="modal upload" id="upload-modal" [class.is-active]="isActive">
  <div class="modal-background" (click)="toggleModal()"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">Upload photo</p>
      <button (click)="toggleModal()" class="delete" aria-label="close"></button>
    </header>
    <section class="modal-card-body">
      <spinner *ngIf="showSpinner"></spinner>
      <figure *ngIf="!showSpinner" id="modal-image-container" class="image" fileDrop
        (fileDropped)="onFileDropped($event)">
        <img *ngIf="photos.length === 0"
          src="https://www.passiton.com/assets/your_photo_here-bd52bd115083f7b7844b90b3af7395c4.png" />
        <div *ngFor="let photo of photos; let i = index">
          <div class="uploaded-image" [ngStyle]="{'opacity': isDuplicate(photo)? '0.3': '1'}">
            <img src="{{ photo.imageUrl }}" class="image"/>
            <div class="overlay" (mouseenter)="mouseEnterOverlayHandler()" (mouseleave)="mouseLeftOverlayHandler()">
              <div *ngIf="showRemoveButton" (click)="removePhoto(i)" class="remove-button">
                <i class="material-icons is-block">clear</i>
              </div>

            </div>
          </div>

          <textarea class="textarea" placeholder="Description" id="{{ i }}" [(ngModel)]="desc[i]"></textarea>
        </div>
      </figure>
      <div class="file" *ngIf="!showSpinner">
        <label class="file-label">
          <input (change)="onFileSelected($event)" class="file-input" type="file" accept="image/*" multiple />
          <span class="file-cta">
            <span class="file-icon">
              <i class="material-icons">cloud_upload</i>
            </span>
            <span class="file-label">
              Choose a photoâ€¦
            </span>
          </span>
        </label>
      </div>
      <!-- Content ... -->
    </section>
    <footer class="modal-card-foot buttons is-right">
      <button *ngIf="!duplicatesFound" class="button is-success" (click)="saveChanges()">
        Save changes
      </button>
      <button *ngIf="duplicatesFound" class="button is-success" (click)="uploadDuplicates()">
        Proceed with duplicates
      </button>
      <button class="button" (click)="toggleModal()">Cancel</button>
    </footer>
  </div>
</div>
<notifier-container></notifier-container>
