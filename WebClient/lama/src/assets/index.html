<!DOCTYPE html>↵<html lang="ru" xmlns="http://www.w3.org/1999/xhtml">↵    <head>↵        <meta charset="utf-8" />↵        <title>Internal Server Error</title>↵        <style>↵            body {↵    font-family: 'Segoe UI', Tahoma, Arial, Helvetica, sans-serif;↵    font-size: .813em;↵    color: #222;↵    background-color: #fff;↵}↵↵h1, h2, h3, h4, h5 {↵    /*font-family: 'Segoe UI',Tahoma,Arial,Helvetica,sans-serif;*/↵    font-weight: 100;↵}↵↵h1 {↵    color: #44525e;↵    margin: 15px 0 15px 0;↵}↵↵h2 {↵    margin: 10px 5px 0 0;↵}↵↵h3 {↵    color: #363636;↵    margin: 5px 5px 0 0;↵}↵↵code {↵    font-family: Consolas, "Courier New", courier, monospace;↵}↵↵body .titleerror {↵    padding: 3px 3px 6px 3px;↵    display: block;↵    font-size: 1.5em;↵    font-weight: 100;↵}↵↵body .location {↵    margin: 3px 0 10px 30px;↵}↵↵#header {↵    font-size: 18px;↵    padding: 15px 0;↵    border-top: 1px #ddd solid;↵    border-bottom: 1px #ddd solid;↵    margin-bottom: 0;↵}↵↵    #header li {↵        display: inline;↵        margin: 5px;↵        padding: 5px;↵        color: #a0a0a0;↵        cursor: pointer;↵    }↵↵    #header .selected {↵        background: #44c5f2;↵        color: #fff;↵    }↵↵#stackpage ul {↵    list-style: none;↵    padding-left: 0;↵    margin: 0;↵    /*border-bottom: 1px #ddd solid;*/↵}↵↵#stackpage .details {↵    font-size: 1.2em;↵    padding: 3px;↵    color: #000;↵}↵↵#stackpage .stackerror {↵    padding: 5px;↵    border-bottom: 1px #ddd solid;↵}↵↵↵#stackpage .frame {↵    padding: 0;↵    margin: 0 0 0 30px;↵}↵↵    #stackpage .frame h3 {↵        padding: 2px;↵        margin: 0;↵    }↵↵#stackpage .source {↵    padding: 0 0 0 30px;↵}↵↵    #stackpage .source ol li {↵        font-family: Consolas, "Courier New", courier, monospace;↵        white-space: pre;↵        background-color: #fbfbfb;↵    }↵↵#stackpage .frame .source .highlight li span {↵    color: #FF0000;↵}↵↵#stackpage .source ol.collapsible li {↵    color: #888;↵}↵↵    #stackpage .source ol.collapsible li span {↵        color: #606060;↵    }↵↵.page table {↵    border-collapse: separate;↵    border-spacing: 0;↵    margin: 0 0 20px;↵}↵↵.page th {↵    vertical-align: bottom;↵    padding: 10px 5px 5px 5px;↵    font-weight: 400;↵    color: #a0a0a0;↵    text-align: left;↵}↵↵.page td {↵    padding: 3px 10px;↵}↵↵.page th, .page td {↵    border-right: 1px #ddd solid;↵    border-bottom: 1px #ddd solid;↵    border-left: 1px transparent solid;↵    border-top: 1px transparent solid;↵    box-sizing: border-box;↵}↵↵    .page th:last-child, .page td:last-child {↵        border-right: 1px transparent solid;↵    }↵↵.page .length {↵    text-align: right;↵}↵↵a {↵    color: #1ba1e2;↵    text-decoration: none;↵}↵↵    a:hover {↵        color: #13709e;↵        text-decoration: underline;↵    }↵↵.showRawException {↵    cursor: pointer;↵    color: #44c5f2;↵    background-color: transparent;↵    font-size: 1.2em;↵    text-align: left;↵    text-decoration: none;↵    display: inline-block;↵    border: 0;↵    padding: 0;↵}↵↵.rawExceptionStackTrace {↵    font-size: 1.2em;↵}↵↵.rawExceptionBlock {↵    border-top: 1px #ddd solid;↵    border-bottom: 1px #ddd solid;↵}↵↵.showRawExceptionContainer {↵    margin-top: 10px;↵    margin-bottom: 10px;↵}↵↵.expandCollapseButton {↵    cursor: pointer;↵    float: left;↵    height: 16px;↵    width: 16px;↵    font-size: 10px;↵    position: absolute;↵    left: 10px;↵    background-color: #eee;↵    padding: 0;↵    border: 0;↵    margin: 0;↵}↵↵        </style>↵    </head>↵    <body>↵        <h1>An unhandled exception occurred while processing the request.</h1>↵            <div class="titleerror">FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.</div>↵                <p class="location">System.Convert.FromBase64CharPtr(Char* inputPtr, int inputLength)</p>↵        <ul id="header">↵            <li id="stack" tabindex="1" class="selected">↵                Stack↵            </li>↵            <li id="query" tabindex="2">↵                Query↵            </li>↵            <li id="cookies" tabindex="3">↵                Cookies↵            </li>↵            <li id="headers" tabindex="4">↵                Headers↵            </li>↵        </ul>↵↵        <div id="stackpage" class="page">↵            <ul>↵                                    <li>↵                        <h2 class="stackerror">FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.</h2>↵                        <ul>↵                            <li class="frame" id="frame1">↵                                    <h3>System.Convert.FromBase64CharPtr(Char* inputPtr, int inputLength)</h3>↵↵                            </li>↵                            <li class="frame" id="frame2">↵                                    <h3>System.Convert.FromBase64String(string s)</h3>↵↵                            </li>↵                            <li class="frame" id="frame3">↵                                    <h3>Photo.DataAccess.Blob.PhotoBlobStore.LoadPhotosToBlob(string[] photos) in <code title="D:\Учеба\BSA19\lama\bsa-2019-lama\PhotoAPI\Photo.DataAccess\Blob\PhotoBlobStore.cs">PhotoBlobStore.cs</code></h3>↵↵                                    <button class="expandCollapseButton" data-frameId="frame3">+</button>↵                                    <div class="source">↵                                            <ol start="42" class="collapsible">↵                                                    <li><span>            {</span></li>↵                                                    <li><span>                valid_base64[i] = photos[i].Replace(&quot;data:image/jpeg;base64,&quot;, String.Empty).Replace(&quot;-&quot;, &quot;&#x2B;&quot;).Replace(&quot;_&quot;, &quot;/&quot;);</span></li>↵                                                    <li><span>            }</span></li>↵                                                    <li><span>            byte[][] blobs = new byte[photos.Length][];</span></li>↵                                                    <li><span>            for (int i=0; i&lt;photos.Length; i&#x2B;&#x2B;)</span></li>↵                                                    <li><span>            {</span></li>↵                                            </ol>↵↵                                        <ol start="48" class="highlight">↵                                                <li><span>                blobs[i] = System.Convert.FromBase64String(valid_base64[i]);</span></li>↵                                        </ol>↵↵                                            <ol start='49' class="collapsible">↵                                                    <li><span>                CloudBlockBlob cloudBlockBlob = cloudBlobContainer.GetBlockBlobReference(Guid.NewGuid().ToString() &#x2B; &quot;.jpg&quot;);</span></li>↵                                                    <li><span>                cloudBlockBlob.Properties.ContentType = &quot;image/jpg&quot;;</span></li>↵                                                    <li><span>                await cloudBlockBlob.UploadFromByteArrayAsync(blobs[i], 0, blobs[i].Length);</span></li>↵                                                    <li><span>                var id = cloudBlockBlob.Uri;</span></li>↵                                                    <li><span>            }</span></li>↵                                                    <li><span>        }</span></li>↵                                            </ol>↵                                    </div>↵                            </li>↵                            <li class="frame" id="frame4">↵                                    <h3>Photo.BusinessLogic.Services.PhotoService.SaveToBlobStorage(string[] photos) in <code title="D:\Учеба\BSA19\lama\bsa-2019-lama\PhotoAPI\Photo.BusinessLogic\Services\PhotoService.cs">PhotoService.cs</code></h3>↵↵                                    <button class="expandCollapseButton" data-frameId="frame4">+</button>↵                                    <div class="source">↵                                            <ol start="10" class="collapsible">↵                                                    <li><span>    {</span></li>↵                                                    <li><span></span></li>↵                                                    <li><span>        private PhotoBlobStore _store = new PhotoBlobStore();</span></li>↵                                                    <li><span></span></li>↵                                                    <li><span>        public async Task SaveToBlobStorage(string[] photos)</span></li>↵                                                    <li><span>        {</span></li>↵                                            </ol>↵↵                                        <ol start="16" class="highlight">↵                                                <li><span>            await _store.LoadPhotosToBlob(photos);</span></li>↵                                        </ol>↵↵                                            <ol start='17' class="collapsible">↵                                                    <li><span>        }</span></li>↵                                                    <li><span>    }</span></li>↵                                                    <li><span>}</span></li>↵                                            </ol>↵                                    </div>↵                            </li>↵                            <li class="frame" id="frame5">↵                                    <h3>Photo.Controllers.PhotosController.Post(string[] values) in <code title="D:\Учеба\BSA19\lama\bsa-2019-lama\PhotoAPI\Photo\Controllers\PhotosController.cs">PhotosController.cs</code></h3>↵↵                                    <button class="expandCollapseButton" data-frameId="frame5">+</button>↵                                    <div class="source">↵                                            <ol start="32" class="collapsible">↵                                                    <li><span>        }</span></li>↵                                                    <li><span></span></li>↵                                                    <li><span>        // POST api/values</span></li>↵                                                    <li><span>        [HttpPost]</span></li>↵                                                    <li><span>        public async Task Post([FromBody] string[] values)</span></li>↵                                                    <li><span>        {</span></li>↵                                            </ol>↵↵                                        <ol start="38" class="highlight">↵                                                <li><span>            await _service.SaveToBlobStorage(values);</span></li>↵                                        </ol>↵↵                                            <ol start='39' class="collapsible">↵                                                    <li><span>        }</span></li>↵                                                    <li><span></span></li>↵                                                    <li><span>        // PUT api/values/5</span></li>↵                                                    <li><span>        [HttpPut(&quot;{id}&quot;)]</span></li>↵                                                    <li><span>        public void Put(int id, [FromBody] string value)</span></li>↵                                                    <li><span>        {</span></li>↵                                            </ol>↵                                    </div>↵                            </li>↵                            <li class="frame" id="frame6">↵                                    <h3>lambda_method(Closure , object )</h3>↵↵                            </li>↵                            <li class="frame" id="frame7">↵                                    <h3>Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable&#x2B;Awaiter.GetResult()</h3>↵↵                            </li>↵                            <li class="frame" id="frame8">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor&#x2B;AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)</h3>↵↵                            </li>↵                            <li class="frame" id="frame9">↵                                    <h3>System.Threading.Tasks.ValueTask&lt;TResult&gt;.get_Result()</h3>↵↵                            </li>↵                            <li class="frame" id="frame10">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()</h3>↵↵                            </li>↵                            <li class="frame" id="frame11">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()</h3>↵↵                            </li>↵                            <li class="frame" id="frame12">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)</h3>↵↵                            </li>↵                            <li class="frame" id="frame13">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)</h3>↵↵                            </li>↵                            <li class="frame" id="frame14">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()</h3>↵↵                            </li>↵                            <li class="frame" id="frame15">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()</h3>↵↵                            </li>↵                            <li class="frame" id="frame16">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)</h3>↵↵                            </li>↵                            <li class="frame" id="frame17">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)</h3>↵↵                            </li>↵                            <li class="frame" id="frame18">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()</h3>↵↵                            </li>↵                            <li class="frame" id="frame19">↵                                    <h3>Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()</h3>↵↵                            </li>↵                            <li class="frame" id="frame20">↵                                    <h3>Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)</h3>↵↵                            </li>↵                            <li class="frame" id="frame21">↵                                    <h3>Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)</h3>↵↵                            </li>↵                            <li class="frame" id="frame22">↵                                    <h3>Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)</h3>↵↵                            </li>↵                            <li class="frame" id="frame23">↵                                    <h3>Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)</h3>↵↵                            </li>↵                        </ul>↵                    </li>↵                    <li>↵                        <br/>↵                        <div class="rawExceptionBlock">↵                            <div class="showRawExceptionContainer">↵                                <button class="showRawException" data-exceptionDetailId="exceptionDetail1">Show raw exception details</button>↵                            </div>↵                            <div id="exceptionDetail1" class="rawExceptionDetails">↵                                <pre class="rawExceptionStackTrace">System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.&#xD;&#xA;   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)&#xD;&#xA;   at System.Convert.FromBase64String(String s)&#xD;&#xA;   at Photo.DataAccess.Blob.PhotoBlobStore.LoadPhotosToBlob(String[] photos) in D:\&#x423;&#x447;&#x435;&#x431;&#x430;\BSA19\lama\bsa-2019-lama\PhotoAPI\Photo.DataAccess\Blob\PhotoBlobStore.cs:line 48&#xD;&#xA;   at Photo.BusinessLogic.Services.PhotoService.SaveToBlobStorage(String[] photos) in D:\&#x423;&#x447;&#x435;&#x431;&#x430;\BSA19\lama\bsa-2019-lama\PhotoAPI\Photo.BusinessLogic\Services\PhotoService.cs:line 16&#xD;&#xA;   at Photo.Controllers.PhotosController.Post(String[] values) in D:\&#x423;&#x447;&#x435;&#x431;&#x430;\BSA19\lama\bsa-2019-lama\PhotoAPI\Photo\Controllers\PhotosController.cs:line 38&#xD;&#xA;   at lambda_method(Closure , Object )&#xD;&#xA;   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)&#xD;&#xA;   at System.Threading.Tasks.ValueTask`1.get_Result()&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()&#xD;&#xA;   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()&#xD;&#xA;   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)&#xD;&#xA;   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)&#xD;&#xA;   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)&#xD;&#xA;   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)</pre>↵                            </div>↵                        </div>↵                    </li>↵            </ul>↵        </div>↵↵        <div id="querypage" class="page">↵                <p>No QueryString data.</p>↵        </div>↵↵        <div id="cookiespage" class="page">↵                <p>No cookie data.</p>↵        </div>↵        <div id="headerspage" class="page">↵                <table>↵                    <thead>↵                        <tr>↵                            <th>Variable</th>↵                            <th>Value</th>↵                        </tr>↵                    </thead>↵                    <tbody>↵                                <tr>↵                                    <td>Accept</td>↵                                    <td>application/json, text/plain, */*</td>↵                                </tr>↵                                <tr>↵                                    <td>Accept-Encoding</td>↵                                    <td>gzip, deflate, br</td>↵                                </tr>↵                                <tr>↵                                    <td>Accept-Language</td>↵                                    <td>ru,en-US;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6</td>↵                                </tr>↵                                <tr>↵                                    <td>Authorization</td>↵                                    <td>Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjcyODRlYTZiNGZlZDBmZDc1MzE4NTg2NDZmZDYzNjE1ZGQ3YTIyZjUiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiWXVyYSBEaWR5ayIsInBpY3R1cmUiOiJodHRwczovL2xoNi5nb29nbGV1c2VyY29udGVudC5jb20vLXdFcUNsR1k5bXBjL0FBQUFBQUFBQUFJL0FBQUFBQUFBQUFBL0FDSGkzcmRFOEJlb3AxQ2lKSE8yY29oRmhpbUt4ZkUtSUEvcGhvdG8uanBnIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL2xhbWEtYXV0aCIsImF1ZCI6ImxhbWEtYXV0aCIsImF1dGhfdGltZSI6MTU2NTE2MDQ3OSwidXNlcl9pZCI6IlFrSlBqYnBwMXhhd0Y5RldKdjBjRWNTV2t0YzIiLCJzdWIiOiJRa0pQamJwcDF4YXdGOUZXSnYwY0VjU1drdGMyIiwiaWF0IjoxNTY1MTYwNDc5LCJleHAiOjE1NjUxNjQwNzksImVtYWlsIjoieW5peC5jb21tQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTExMzY0NzQ3NjUzNTMwNTEzODM5Il0sImVtYWlsIjpbInluaXguY29tbUBnbWFpbC5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJnb29nbGUuY29tIn19.gAOi0cSYD6jzH20sbmP5E_CReLwGhjFQMTuPyKeum8me7qBInB5GsWHBx_ycEcAplRb-YEM_dSZa-8pNTz3DhY-CRC_xu_iNDn6RXLD2p0dyTKb5_iwosk1bBXnZYdLR95fwxlUmcual3Oe2JXU832dJ2xHoeW_19yYhXtwT6QKF0QlQGUSYQf1tvtdQKeicb3e0s7CRZhv_6q8K1aXC0FZ5c85tyBAE_x4dMN0q_e3YlHwTypz6sxA3l8A9ZmDrvjo9JmNYwo-z90Fg6KUj1qIbU76pmppLkJGMnUnqMa1dvQl_U-ww_HBQ5uFGHdYcyC9KtAbX8K_4wWqt3zQSKw</td>↵                                </tr>↵                                <tr>↵                                    <td>Connection</td>↵                                    <td>close</td>↵                                </tr>↵                                <tr>↵                                    <td>Content-Length</td>↵                                    <td>580666</td>↵                                </tr>↵                                <tr>↵                                    <td>Content-Type</td>↵                                    <td>application/json</td>↵                                </tr>↵                                <tr>↵                                    <td>Host</td>↵                                    <td>localhost:44367</td>↵                                </tr>↵                                <tr>↵                                    <td>origin</td>↵                                    <td>http://localhost:4200</td>↵                                </tr>↵                                <tr>↵                                    <td>Referer</td>↵                                    <td>http://localhost:4200/login</td>↵                                </tr>↵                                <tr>↵                                    <td>User-Agent</td>↵                                    <td>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36</td>↵                                </tr>↵                    </tbody>↵                </table>↵        </div>↵        <script>↵            //<!--↵            (function (window, undefined) {↵    "use strict";↵↵    function ns(selector, element) {↵        return new NodeCollection(selector, element);↵    }↵↵    function NodeCollection(selector, element) {↵        this.items = [];↵        element = element || window.document;↵↵        var nodeList;↵↵        if (typeof (selector) === "string") {↵            nodeList = element.querySelectorAll(selector);↵            for (var i = 0, l = nodeList.length; i < l; i++) {↵                this.items.push(nodeList.item(i));↵            }↵        }↵    }↵↵    NodeCollection.prototype = {↵        each: function (callback) {↵            for (var i = 0, l = this.items.length; i < l; i++) {↵                callback(this.items[i], i);↵            }↵            return this;↵        },↵↵        children: function (selector) {↵            var children = [];↵↵            this.each(function (el) {↵                children = children.concat(ns(selector, el).items);↵            });↵↵            return ns(children);↵        },↵↵        hide: function () {↵            this.each(function (el) {↵                el.style.display = "none";↵            });↵↵            return this;↵        },↵↵        toggle: function () {↵            this.each(function (el) {↵                el.style.display = el.style.display === "none" ? "" : "none";↵            });↵↵            return this;↵        },↵↵        show: function () {↵            this.each(function (el) {↵                el.style.display = "";↵            });↵↵            return this;↵        },↵↵        addClass: function (className) {↵            this.each(function (el) {↵                var existingClassName = el.className,↵                    classNames;↵                if (!existingClassName) {↵                    el.className = className;↵                } else {↵                    classNames = existingClassName.split(" ");↵                    if (classNames.indexOf(className) < 0) {↵                        el.className = existingClassName + " " + className;↵                    }↵                }↵            });↵↵            return this;↵        },↵↵        removeClass: function (className) {↵            this.each(function (el) {↵                var existingClassName = el.className,↵                    classNames, index;↵                if (existingClassName === className) {↵                    el.className = "";↵                } else if (existingClassName) {↵                    classNames = existingClassName.split(" ");↵                    index = classNames.indexOf(className);↵                    if (index > 0) {↵                        classNames.splice(index, 1);↵                        el.className = classNames.join(" ");↵                    }↵                }↵            });↵↵            return this;↵        },↵↵        attr: function (name) {↵            if (this.items.length === 0) {↵                return null;↵            }↵↵            return this.items[0].getAttribute(name);↵        },↵↵        on: function (eventName, handler) {↵            this.each(function (el, idx) {↵                var callback = function (e) {↵                    e = e || window.event;↵                    if (!e.which && e.keyCode) {↵                        e.which = e.keyCode; // Normalize IE8 key events↵                    }↵                    handler.apply(el, [e]);↵                };↵↵                if (el.addEventListener) { // DOM Events↵                    el.addEventListener(eventName, callback, false);↵                } else if (el.attachEvent) { // IE8 events↵                    el.attachEvent("on" + eventName, callback);↵                } else {↵                    el["on" + type] = callback;↵                }↵            });↵↵            return this;↵        },↵↵        click: function (handler) {↵            return this.on("click", handler);↵        },↵↵        keypress: function (handler) {↵            return this.on("keypress", handler);↵        }↵    };↵↵    function frame(el) {↵        ns(".source .collapsible", el).toggle();↵    }↵↵    function expandCollapseButton(el) {↵        var frameId = el.getAttribute("data-frameId");↵        frame(document.getElementById(frameId));↵        if (el.innerText === "+") {↵            el.innerText = "-";↵        }↵        else {↵            el.innerText = "+";↵        }↵    }↵↵    function tab(el) {↵        var unselected = ns("#header .selected").removeClass("selected").attr("id");↵        var selected = ns("#" + el.id).addClass("selected").attr("id");↵↵        ns("#" + unselected + "page").hide();↵        ns("#" + selected + "page").show();↵    }↵↵    ns(".rawExceptionDetails").hide();↵    ns(".collapsible").hide();↵    ns(".page").hide();↵    ns("#stackpage").show();↵↵    ns(".expandCollapseButton")↵        .click(function () {↵            expandCollapseButton(this);↵        })↵        .keypress(function (e) {↵            if (e.which === 13) {↵                expandCollapseButton(this);↵            }↵        });↵↵    ns("#header li")↵        .click(function () {↵            tab(this);↵        })↵        .keypress(function (e) {↵            if (e.which === 13) {↵                tab(this);↵            }↵        });↵↵    ns(".showRawException")↵        .click(function () {↵            var exceptionDetailId = this.getAttribute("data-exceptionDetailId");↵            ns("#" + exceptionDetailId).toggle();↵        });↵})(window);↵            //-->↵        </script>↵    </body>↵</html>↵